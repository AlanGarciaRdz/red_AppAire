function [Y,Xf,Af] = COCentro19(X,~,~)
%COCENTRO19 neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 20-May-2016 13:56:33.
% 
% [Y] = COCentro19(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [1;1;0;0;0;0;0;0;0;0];
x1_step1_gain = [0.0384615384615385;0.0869565217391304;0.281968137600451;15.748031496063;0.00773694390715667;0.0203458799593082;0.00627943485086342;0.132450331125828;0.448430493273543;0.241545893719807];
x1_step1_ymin = -1;

% Layer 1
b1 = [1.8924938817017702;4.1435158319587977;-4.9441836542602555;0.30083521022384241;0.58396292048520326;-0.31278130093405471;0.83092836866055442;-0.91988757892289541;-1.2562418034965881;-1.3549184799337497;1.928675511316619;-3.1594071207831913;-5.9301085505508215];
IW1_1 = [-2.1985580884976454 2.6648398262967419 -0.2822740675043387 -0.43175433026309346 0.72070426154620015 0.65082965229010314 -0.38679057840822828 1.0007650305075779 -0.40465250755679388 0.77823470809875439;-3.2013036600359106 0.10221897833665065 0.64400838524250725 -1.095693945790309 -1.1882806028969477 -1.2607851540019706 -0.3138801970373723 0.72871741039645865 1.2198418376967786 -0.51620282434186437;4.2527896123205933 0.012712186074931492 -0.54281739284990116 0.44707215526395883 0.26427556820181292 -0.072257205865089241 0.078299733412055969 -0.60051569472956601 -0.31080637126436877 -0.018801581007657102;0.15069473029435143 1.4103288216894305 -0.047979415397169024 0.86023156300224635 -0.69240454078246294 -0.43614357179312896 0.46938514649193175 0.26145404579442139 0.6089721807012537 0.059489980830525098;-1.4817178198393077 -0.56750568319142813 0.82097031395217546 -1.5819645669847757 0.43719677039844262 0.42206847369506079 -0.13069248884165635 0.16919321381557642 -0.25040725015670406 0.10849190961512667;-0.025494253948888206 6.1405604661548283 -0.027714477786108502 0.022526815628169689 0.0026845342159470369 -0.026737763526966933 0.017802212312459195 0.20272354078037819 -0.0074004719503252782 0.69667040885629938;0.10779648905341016 0.64285326519122088 0.063148834971479745 -2.1180645922678618 1.4222025969909369 0.2110707095716467 0.13026699580915233 0.60741583624122353 0.83232576892065968 0.47363058162710908;-2.4754823065286198 0.14675401327376128 0.13708045860627235 0.55260799822046502 -0.58811838487066503 0.18204965993137612 -0.21106684159884823 -0.21321059406533788 -1.0913225285601367 0.31611423070704719;-1.6184894034892301 0.61700318410948907 0.39975612067631217 0.00507065804590256 -0.67536334405292797 0.32173748905665794 -0.14341339415543544 0.48903480116581877 0.078516771962257426 -0.15033482499773629;-1.5198366063959845 -3.0906647112090484 0.089624023601710151 0.093319029895697458 -0.13466921251696357 -1.3100292604372434 0.46316266037178572 0.25245859869804488 0.90412024901321109 -0.22192889905916344;2.1170082717049143 1.7870771201050712 -0.37934413992453797 -0.80694983459355329 -0.42751946166527238 -0.36922071914707699 0.68072677428046535 0.66779422028451518 -0.51628101170756602 -0.24806986075887302;-1.2875462981433399 2.7851041633200242 0.58879238740637707 -0.97658162415317618 -0.41941070417257964 0.66881236757684082 -1.5457259541577264 -1.2663696766916512 -1.099999408155548 -1.2186080523693483;-1.3675833088451017 0.31950231225887343 0.70314917468433003 0.10428056799214601 -1.5990463561661254 0.3783816772982212 -0.2646590235984822 0.51556961659249412 -4.129616646393818 -0.29010566696334744];

% Layer 2
b2 = [-1.518964856303942;-0.058471855234157474;1.32458853247219;-0.63094177432755705;-1.3534375881876772;-1.1184149489887911;-0.38187699238532752;-0.53796080808574687;0.66285752326299774;-0.89837439432961352;1.6965244371405874;1.6007356879342218;-2.0563520284771482];
LW2_1 = [-0.18081983917174899 -1.3164667129076733 -0.68147149538031526 -0.10109062026318021 0.22256063185914687 1.1727804944931977 -0.13003859094363496 0.18134587327620544 -0.47843421877385262 -0.51400610401432389 1.2314249826856987 -0.17580913543656276 0.72902663430052372;-0.75998628517437083 1.0827803111698731 0.71570594969894619 0.30278939751138689 -0.82596741460168666 0.18082614130846797 -0.088753953186290313 0.92433749663335152 -1.2206376828733203 0.6867422794043192 0.46619019623903596 -0.10919250249636434 0.1278254067998536;-0.47467354338842382 -1.4039884413735702 -0.83016495463710072 -0.00098279161010637189 -0.016634146758531015 0.25422959513926241 -0.05444350560582243 0.42739627859646578 -0.89314021707890123 0.20690723357375326 0.04385321222318965 -0.12720251546508679 0.82912456979760629;-1.0145304743736021 0.42357985746644172 0.31072174745127512 1.1954139595169302 -0.15491076866469919 -2.0820234599792355 1.0576973445711881 1.5096246813023233 -1.5188921470672538 0.0025112042260179183 1.9029154999419964 0.63691200264024028 0.76231611693749668;-0.53243492302971895 -0.060692190377676168 -0.59664671526455226 0.13493158059499538 1.3266976396015528 1.2124524256093019 -0.39651865736000819 0.63091915983124391 1.4454865042120058 0.26418728968444916 1.2444951272247704 -0.59779311310179928 -0.87943499701374483;0.73952630055958368 0.18025938190681337 0.33706967024937284 0.58857266717701218 -0.21474754737786228 -1.6536201258818324 0.49629494380630507 -0.11476071330291662 -1.1264322703946401 -0.12064772553833523 -0.76160957325390677 0.13580228798895636 0.44902077032499571;-0.20534561141485028 -1.1595967898447135 0.83231620201713252 -0.30278205251716073 0.56340024044378012 1.2467077144896359 0.38224760233176414 1.2611261836646783 0.64451608090682111 0.02260284689695774 -1.145666387139483 -0.15781109929192069 0.40450905997096553;-1.9815763406765938 -0.63730653086095157 2.2845592647319526 1.8006285326599816 1.575842406230765 -0.74137243309927259 -0.95571390462390327 0.39255309880304956 0.5808840615523112 -0.92380824836530684 -0.57643408729610512 0.53686762030681123 -0.1029366186533005;-0.23462751748384802 -1.32550079552274 -0.57247563075794239 0.17593326063808568 0.062817612023679581 -0.68499192594569902 0.12891256799133693 0.44130482991595377 -1.0708588284237597 0.14909935295466692 -0.044534579364218618 -0.10377135087302221 1.0969109880044958;-0.12966944967992527 -0.50095603904957109 0.38819581597716579 -1.0032612619062318 0.38272751913058572 0.034041959497302376 -0.4674836846513995 -1.6911973192306933 1.6406191784306043 0.29124016507221412 -1.9481046890909943 0.061923486046412748 -1.8550308900152102;1.0277604911568285 0.97272715641212892 1.1165042559297067 1.9802816344297387 1.1674169951056996 -1.7117855040565364 -0.37756153433176931 0.87440338127943662 -0.63673945570247903 -0.0059130165960607564 0.23625658020914703 0.68581149919039597 -0.63809285240458813;-1.3040668048246191 0.74663295530971441 -0.51932125110357563 -0.9211959818837494 -1.2456221107324794 -2.4031068726818727 0.49462973902958218 0.68261260130287571 0.89524346299221136 0.29628050206828016 0.43452306848372779 -0.13139165421352716 -0.81860529401474791;0.15834861707742892 -0.28123343112246402 1.5181979302751767 -0.34295999383072906 0.25666386086998422 -1.7657825270805663 0.24320432779801393 -0.4936857198544457 0.99273553866960051 0.13612338446826122 -0.0015870694186511936 0.46739521494169495 -0.54714107896683983];

% Layer 3
b3 = 1.4767489363286697;
LW3_2 = [-2.294168106375797 -0.38186362700171395 2.2720804337454052 -0.26093266713508256 0.22406464594279352 0.55878076807079347 0.79401143129485163 1.417052673591328 -1.886522984130794 -0.4118921570684283 -1.375883731050066 -0.42020441802016684 0.70375779193133148];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = 0.448430493273543;
y1_step1_xoffset = 0;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},2); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = repmat(b3,1,Q) + LW3_2*a2;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a3,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(3,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
