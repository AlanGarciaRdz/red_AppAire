function [Y,Xf,Af] = COCentro11(X,~,~)
%COCENTRO11 neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 20-May-2016 13:56:31.
% 
% [Y] = COCentro11(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 10xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [1;1;0;0;0;0;0;0;0;0];
x1_step1_gain = [0.0384615384615385;0.0869565217391304;0.281968137600451;15.748031496063;0.00773694390715667;0.0203458799593082;0.00627943485086342;0.132450331125828;0.448430493273543;0.241545893719807];
x1_step1_ymin = -1;

% Layer 1
b1 = [1.5786755175399065;-3.9289685998018933;1.3663883407881523;-2.0470644186547018;-0.57597005179704552;-0.69688926249004712;-0.50501563145007944;0.06529848309910341;0.83888627737179833;0.69090509517814247;-3.1807056908887552;-1.3174571289863017;1.2459753577865917;1.9555408447142724];
IW1_1 = [-0.078072941463903367 -0.52958918600733706 1.5097493198538314 -0.53341161941556303 -0.079630022427226194 -1.2264261436527371 0.1420781515994016 0.5897198511481041 -0.73323176249173716 0.37001021362181236;-0.040102617185332666 6.0262145498195547 -0.11481075204835245 0.14903705164706699 -0.035021107257321632 0.00070193593891943948 0.047236189575877802 -0.2510850993413436 0.12646205059373547 0.229266201655973;-1.5600315255920305 -0.41404088731981165 0.69196290975582642 -1.0787526557839782 0.044469995115748472 0.66225754781732049 -0.10389395504648691 0.47731607556644745 2.1230429341680184 0.10643028691846972;1.5333733349068723 -1.2446095734791498 -0.6668302111574741 0.3327627678828195 -0.62594637367665229 -0.53441028096395093 -0.36857695908006061 0.25191282164694184 0.56669044982398142 -0.36576964640075005;1.1517410421918144 1.2617015105404976 0.25884714391969316 -0.1825096356742211 1.1111851071489602 0.85562487237657658 0.18155848541214639 -0.097033068168352346 0.71195482648765895 -0.23371698078869715;-0.33552014347789461 0.4347529721736571 0.51274467957085079 0.41854720465594336 0.025812335113887905 0.061309729710629923 -1.5854589085861197 0.054327784386764416 -0.5194434254824678 -0.027375808701789184;-0.36569099419685464 1.3083479478093683 0.10649948180494362 -0.22074688767898548 -0.73930382843557452 0.1565312573039718 -0.2944674715900929 0.41288860965110991 0.63892025634680005 0.10255587081533477;-1.0587948473211657 0.12836186145888032 -0.20527684412019112 -0.1815109812138257 0.66126477459915256 -0.21255877344451973 -0.090832907402311869 -0.31552806204294198 -0.52852709281053423 0.48069566185811169;-0.45665537728347888 1.5165767966883497 -0.042152651378520818 -0.56461936286669878 0.0054773025409755229 -0.095565702338093347 -0.077919132232038793 0.36609919263852653 -0.59478775775558779 0.18550274497110167;2.0270359684345376 -0.32027830798000761 -0.0097436454110997779 -0.38810905596601852 0.33988800429103228 0.53135738739174765 -0.0003143055610464649 -0.37004572325052787 -1.2720631756693266 0.044561807170971655;-0.07150343698555886 -1.0182498655433208 0.21275441266421427 0.4351780723480978 -0.0082603650777536113 0.014018785608961906 0.008231605048855865 -0.011294069514389694 -3.7496891728252133 -0.077342712887625217;-0.6249098658479767 -0.29009701804372984 0.51962940211738862 0.93131763274014723 0.42234689323656849 0.51334620566820544 -0.15325568043966389 0.32625136394235998 -0.24904204201022848 1.0764062343904475;-0.3844198402677787 -0.39118003344176105 0.016459733229604631 0.39512732658829397 0.22713858231421671 -0.83290893370782104 1.4482963815519754 1.0733839610825424 -0.26474355294174046 -0.65124500046286937;2.0111793952917338 0.40270460307057548 -0.087837647677349043 1.1990827233745838 -0.21862320455593601 -0.034656331148121521 0.26124563787906024 -0.56969445630703786 0.49644058965552362 0.021518234253362342];

% Layer 2
b2 = [-1.9313453933986582;1.6908207838305593;1.7461333030070629;-1.0673513012376381;-0.28625290564881339;-0.55187065304368865;-0.79238451765702178;0.055096365525737045;0.34241340672136383;0.29583879243148753;1.0502513496914858;1.7780370459577182;-2.653119271012538;1.7503061685113797];
LW2_1 = [0.962314743613219 0.094165903177667737 -0.35869950431582798 0.42437628854857062 0.3628019410315691 -0.99005770811587746 -0.85893538799289182 0.14218904787878187 -1.3263171498072952 -0.41017819334002181 0.22953336635289251 0.0049442268666708648 -0.54289889097510879 -1.3196254948348716;-0.41297951217093365 -1.4552991374289752 0.44742708620184135 0.11329299801856145 -0.019679893952928997 0.18366937892986379 0.32585178680538063 0.20512801869486752 -0.62570352736193291 0.50752838824602298 -0.0041471995751987852 -0.71619544949858094 0.33507262468101928 0.46156000833966604;-1.0851003029786039 1.2664646061030935 1.9584232994449136 -0.035314334442598967 -1.3471202108467866 -0.12079039373973328 -0.30141123823374422 1.6785407053708818 0.47473015622271636 0.16267965562730605 0.43647335907500495 -0.93188104152662365 0.64028053932399054 0.28036475599638588;0.53208303969614135 -0.84517014666540413 -0.37471091662205119 0.65126685023767739 -0.86421672719399267 -0.37568542371023106 -0.60200283027483259 -0.7912398664823499 -0.83276295672491107 0.73182115596403519 -0.8943195158585574 0.86807858186903875 -0.74491262161637939 1.054594661759529;0.35620875513320638 0.3143964841973218 0.51092658390015633 -0.66073237700573451 0.54859648331032951 -0.25791866570248984 0.56242375575293468 0.7051698045085607 -0.95564697122238151 -0.60017734186215166 0.72687828312993297 -0.72492180131050021 0.65826510200580546 0.28568343001050678;0.0068302740344928919 2.7363982449918418 -0.95797444223357409 -0.72251384611028324 -0.05855747073408963 -0.30855667084794802 -0.57810566029414812 -1.2995140938216734 -0.63400097665395916 -0.047165685550351798 2.546117111157411 0.74518213975474501 -0.12980984831029665 -1.6537665980376135;0.32586997368790599 0.48928503297121728 0.34119580887000878 0.16316844768238736 -0.22697719681771797 -0.42925686603147256 0.017004695318823957 0.15689355777053729 0.035998112438016663 -0.18433664393261232 0.089110028996040286 0.14641505834860541 0.15109871005404138 -0.056182290816306976;-0.31529076746595269 0.65435425040387352 0.037189457859874875 -1.1806342496426374 -0.025994058249378966 0.073531805341393697 0.69993425879052584 -0.075189353729801497 0.5361021666971636 -0.51200797084077498 0.77310522757394828 0.41736814746444933 -0.043281087723766168 -0.43494659965617005;-0.63911547272315272 -0.82304362548021981 0.78341119677284088 -0.66306965526358452 -0.91495854167307611 0.35442608957578386 -1.7540837583820741 -1.0619271095879073 -0.021569200761846225 0.045655657998472668 -2.0694501038846735 -0.33688975454671771 0.2952607570312531 -0.020945607700749259;-0.55585714266856023 -0.081134682897322355 -0.76198665450835035 -0.92516036036042149 -1.0702612496153601 -0.19497380220175861 -0.0039274098884264919 0.60979573389712094 -0.58202736445010828 -0.81134377944946057 -0.16326266576559523 1.0186105953352469 -0.44268256912402909 0.20163261772151245;1.7056378376114476 -0.10184397733472177 -0.21607974013243969 -0.84166109611205731 0.50765025558679633 -0.11382793959226915 0.43642088073401319 -0.2322009075138167 0.44128972584385134 -0.56771341140795184 -0.3156471517214815 -0.55076502720340026 -0.21415199928078393 0.65616000841240285;0.41477521351250379 0.59152666400504605 -0.019325241814731251 1.1800663560923885 -0.52125667901566719 -0.073874900341020525 -1.2760446754397463 -0.082939883989357074 -0.61919905102185702 -0.43251387977353661 -1.3906846525054684 0.17230930657980276 -0.2172678426600064 0.40674340473775633;-0.20056113950564627 -0.14001686947755448 0.32879083556050076 1.2278910302176465 0.39026610522796995 0.088985351606067908 -0.92904260997493004 -0.53840936489777536 2.7517168454009737 -0.59418690559929876 -1.2568147915954595 0.95787586176057349 0.017332072418338819 -0.37186526005457132;0.62965263960482754 -0.31923254476600493 -0.25317821786056416 -1.4356391619215898 -0.35319883942000369 -1.0584275005194106 0.6284499049638288 -0.47047275800846011 -0.42086400225475479 0.52231887405772004 1.403322974076529 0.61817231972147857 -0.21301547796932857 0.1577655577714539];

% Layer 3
b3 = -0.096369752849693194;
LW3_2 = [1.235043934752049 -2.3285281523496613 0.1635645799579816 0.14184670969111862 0.18527724077891702 -1.8814137238548831 -0.54062990103447983 0.33650602437676758 1.5500051185271115 -0.11150243471482323 -0.37593605848590933 0.32892308279639815 1.4909647467520264 0.75672593916309849];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = 0.448430493273543;
y1_step1_xoffset = 0;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},2); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = repmat(b3,1,Q) + LW3_2*a2;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a3,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(3,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
