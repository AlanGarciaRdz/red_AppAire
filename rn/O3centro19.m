function [Y,Xf,Af] = O3centro19(X,~,~)
%O3CENTRO19 neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 18-May-2016 13:05:39.
% 
% [Y] = O3centro19(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timsteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

  % ===== NEURAL NETWORK CONSTANTS =====
  
  % Input 1
  x1_step1_xoffset = [1;1;0;0;0;0];
  x1_step1_gain = [0.0869565217391304;0.0384615384615385;0.281968137600451;3.74531835205992;45.4545454545455;15.748031496063];
  x1_step1_ymin = -1;
  
  % Layer 1
  b1 = [-2.3456528409365154;-1.8337374410404144;2.0050689735441249;-1.2017399405128664;-1.6933949475221248;0.41444868480346719;-0.53498782483640817;0.15178286093178336;-0.028738790107130416;0.55700695035844472;1.297862215548822;-1.867592603352676;2.0309941903169069;1.6410072695991382;3.0918038284998253];
  IW1_1 = [1.0444909244843674 -1.1345281298153118 -0.32898413352888983 -1.8408303431025366 0.90394411922032059 0.46449094689145232;0.26781378287791291 1.5048160036301439 0.49961521002736137 -0.67356676877317911 -0.049050034914378308 -1.1915287165156043;-0.66047037479433157 -1.4177552692331248 1.4274254086031832 -0.63669728583126217 1.3036773985033729 1.7301117854802877;0.66468902883738623 -1.7586914747886611 0.06368345406453739 -0.042268426011963386 0.022050971497615798 -1.6325610873386822;2.0957371336137158 1.5572319979890945 0.20963557665659321 -0.12648909722923821 0.11734068385174731 1.1445147310698409;-1.3704902275206063 -1.5868974256365427 -0.38690069543402006 0.91532547500357653 -0.75745703761488892 0.55731822811348586;2.2626763102702099 0.046705004761886097 -0.26556184241309339 0.93169094511411832 -0.15109916101223483 0.59643176339891457;-1.3465381495976514 0.19363640443649605 -0.25240846069730938 -0.97200485538392289 -0.46522016220967938 -0.44502292906935448;-1.813265912445625 -1.2528654404369941 -0.58164014305398493 1.0059759001281461 0.084214954242804674 -1.0575582198954649;1.1076537776176343 0.40686744262963603 -1.5606529109645253 1.5646350599758174 -0.14800050726732336 -0.19594542236852269;-0.82837324390283629 -1.3680521233529879 -0.6687631638008954 0.99840149832454317 -0.2351822707401115 -0.049637272746612178;-0.52872643662973151 0.10502248691367545 -1.0820960123686096 -1.233104733817783 0.5219471657195659 0.54832934070951522;2.5749179053373714 0.37273760739462142 -0.099197862429062075 0.16277122940850774 0.18106661730359908 -0.48244645821651272;1.661427024973678 2.2617868509200698 -0.14214950152398717 0.71906033536139013 0.36399408607114564 -0.31747108019566439;0.10401596229350825 2.1684281541150781 1.0564564054866072 0.9359559782288166 0.21241706948278272 1.633887508272591];
  
  % Layer 2
  b2 = [1.8577559314250731;1.3548363378998449;0.74950482080731962;1.1089657730659217;-1.3227754896206201;-0.45593688544920807;0.12329384900889494;-0.026293071096494369;0.25102461253567737;-0.79915266023064624;0.55397668049053295;-0.98206667588936825;-1.5699419778243424;1.3344334373278446;1.8511746327771685];
  LW2_1 = [-1.020169445422171 -0.19357163561664134 0.74572718404596083 0.49054835286008414 0.46802440629747694 -0.34044907304109506 0.49375889688002106 0.98783000405935883 0.30723334180749012 -0.24949130522663274 -0.25952348895990618 0.65227269741100724 -0.10562350501087754 -0.081385135207480835 0.54147676965597136;-0.70146871484825024 -0.41700799188194521 -0.3001304361410127 -0.090284858149774772 0.094487902550945607 0.18816812891862808 -0.79262295764929203 0.60084244110644258 0.56331473346532146 -0.53811127068854059 -0.6049712155719591 -0.82477030216187541 -0.0083700855274087965 -0.035287095733454274 0.138391914421267;0.37960572945140292 0.54848587346510802 0.12273495492993941 -0.62013678490617896 0.92384259239977706 0.26810236364125839 0.63746934805400202 -0.95073764521631854 -0.5140309765273039 0.61477982717618596 -0.55364587729415615 0.33230520046137968 0.21612825729302179 0.4534589805913673 -0.035675882688446556;0.57019926399584064 -0.45174332564330405 0.021714391589210284 -0.39346454057532909 -0.11909023304250291 -0.085611712371773341 0.47244268760233504 -0.026410274585174622 0.35818779828020353 -0.51452317715400564 0.14365940522380952 0.12714825519458667 0.14254576707791305 0.74785467879678824 0.61285933530237313;-0.36172089290088738 -0.61105084786855579 0.46624096546519994 0.93522697257349419 -0.55632737672041455 -0.30336722548888401 0.57932417864077124 0.20930279437685104 -0.27458365842381216 -0.70068563017936192 -0.84439902369154385 0.32798975851352713 0.34830364180170592 0.26336680593463579 -0.29770544727612808;0.11553989084538115 0.76653031752971401 -1.0796178623377775 -0.53561461122458121 0.26253311481394798 -0.20749985902278736 -0.67294789189206405 -0.058449139807563368 0.69391177859998787 -1.1631316136613175 -0.071034453209619264 0.037221615098094324 -0.63286330725528361 -0.068155511734400404 -0.45577557666203317;0.64533499775840875 0.29824746104191002 -0.048596503639284916 0.093347697609994965 0.1879794756457174 -0.29176974627191854 0.49590111604699305 -0.32947924073910206 -1.176583562493668 -0.012032809789510197 -0.2888961588837714 -0.14598299464531694 0.58316690162908258 0.66782729575155841 -1.4021297163758615;-0.18366217227402182 1.1789271687484937 0.43266718448612912 0.75410949887785395 -0.14665920840384794 0.094017001612072007 0.37049794422626542 -0.24059794046337363 -0.29695259497746057 -0.93601331672294985 0.43419031446090417 0.64046954509356369 0.18778962768059626 0.02798840051378524 -0.47049486808645258;1.3914075123034937 0.90715328974880538 -0.0082167794381718846 0.2541548904819953 1.1669197022587958 -0.65278218123471143 -0.24881857956629194 1.2740292007248128 -0.27486935400805979 -0.14841032757197911 0.36706108614203098 -0.65653473889031932 -1.1753103109138776 -0.25091075647219735 -0.041067084750565294;-1.0849364625663716 0.096379764730004064 0.26618283632170509 0.54694516125379822 -0.3150531969523076 0.50660565031432547 0.25365094310783209 -1.6154054585912365 0.98719748100228744 1.1239845755055151 -0.025730487664038851 -0.22201228384050342 0.38055781620262019 -0.28023682728997007 0.73136859457759806;0.12797747499098705 0.33021149112385972 -0.50739958230274085 0.71329027495970831 -0.14123954995059729 0.48086553570163409 0.33268204705899962 0.35302209101122733 0.53922167164569035 -0.20479441997001069 -0.68363876141197499 -0.72203438357861927 -0.10182484024493181 -0.21558373691836588 -0.18382198719474341;0.28310778616011073 -0.2816611266205748 -0.47012476457084917 -0.24711260468502297 -1.2914827122230683 -0.17139506195533388 0.36108790969598947 -0.39487107905405999 -0.77300772362618031 -0.34212873068958238 0.13902184764761161 0.93599812083937683 0.12537916159116566 0.00070648473595072946 -1.3344284562022199;-0.23149522055584681 -0.57269550862038587 0.038144561903871908 -0.15419033763198062 0.33915822540864676 -0.73098770567416482 0.58802412007159344 -0.38082696416035361 0.86235093212325964 -0.082222144659678656 0.52557013570549704 -0.52982910951263396 -2.2402749500386117 0.63633278492381562 -0.080362952524458672;0.79217293809214073 -1.3272271128586335 -0.31300436616534966 0.69105373185783325 -0.68982290222762876 0.016626329031600953 -0.96278694617938176 -0.10863885543188385 -0.61884426470771414 -0.27947515741796375 0.42794032153254186 0.54480248493314032 0.48922290885456604 -0.1837139731672916 -0.24106491180682654;0.97295144426737878 0.32780692517854981 -0.5754190471488646 -0.77021467424101475 -0.47859144428655198 0.99546339714437071 1.0460095926027144 0.32792992701799434 1.2152151458067355 -0.54947825706767484 -0.52379897450133173 0.65160665646939975 -0.22262272804680253 0.41632532393517169 0.72783854050089281];
  
  % Layer 3
  b3 = -0.88791538561022298;
  LW3_2 = [1.099053641613736 -0.76754054329974764 -0.4263731609798978 -0.81604853600906946 1.6573011161978219 -0.31424653004584058 0.73802271719661394 -1.133213857656544 -1.4786123922285224 -0.45317613020154174 0.30877795212954834 -0.76241211225390593 1.2929894828350526 -0.49514002933186801 0.96414993138185068];
  
  % Output 1
  y1_step1_ymin = -1;
  y1_step1_gain = 15.748031496063;
  y1_step1_xoffset = 0;
  
  % ===== SIMULATION ========
  
  % Format Input Arguments
  isCellX = iscell(X);
  if ~isCellX, X = {X}; end;
  
  % Dimensions
  TS = size(X,2); % timesteps
  if ~isempty(X)
    Q = size(X{1},2); % samples/series
  else
    Q = 0;
  end
  
  % Allocate Outputs
  Y = cell(1,TS);
  
  % Time loop
  for ts=1:TS
  
    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = repmat(b3,1,Q) + LW3_2*a2;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a3,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
  end
  
  % Final Delay States
  Xf = cell(1,0);
  Af = cell(3,0);
  
  % Format Output Arguments
  if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
  y = bsxfun(@minus,x,settings_xoffset);
  y = bsxfun(@times,y,settings_gain);
  y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
  x = bsxfun(@minus,y,settings_ymin);
  x = bsxfun(@rdivide,x,settings_gain);
  x = bsxfun(@plus,x,settings_xoffset);
end
