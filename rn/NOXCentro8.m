function [Y,Xf,Af] = NOXCentro8(X,~,~)
%NOXCENTRO8 neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 20-May-2016 14:08:20.
% 
% [Y] = NOXCentro8(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 8xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [1;1;0;0;0;0;0;0];
x1_step1_gain = [0.0384615384615385;0.0869565217391304;3.74531835205992;15.748031496063;0.00773694390715667;0.0203458799593082;0.00627943485086342;0.132450331125828];
x1_step1_ymin = -1;

% Layer 1
b1 = [1.86985586291495;-2.1829079969346661;2.7171065813292401;-1.2352072485388883;-0.59691369880728218;1.2460512311365146;-1.7601524199886802;0.33839585941630435;-0.68137080558092644;-1.7486289198335621;2.5351648875750756;-2.6455141258171744;0.54240543695978538;-1.9517366137075438];
IW1_1 = [-0.60654796002339073 1.434200319081623 1.6487754576473042 -1.7891547180394756 0.69367671515111462 0.64675572537617432 0.15545373359486003 0.40939398508583857;1.4152051438389397 -0.40580153522550122 -0.38842633045103814 -0.86410326124654968 0.75770024499512545 -1.3153744976922574 0.30102195944924864 -0.7997008765628455;-2.2282528047998222 1.1038640669804474 -1.9167155677800636 2.3856772629188741 -0.84585905351278401 -0.34218275275199334 -0.073214676537069062 0.052813821190306261;-0.89942264593552057 4.2601005212275211 -1.4089723237132636 0.27979558601261428 0.49620951871787755 0.050796448122194832 -0.14382231692579495 0.57893778685934683;0.84823812695993306 -1.4835901018219484 -0.43784643133887524 -0.79000492951980006 0.82360000532831834 -0.14076977959483367 0.21560220573449942 -0.02591381293633219;-2.682311735159157 -0.28661223086093235 -1.1898540210265283 -1.2396062176847242 0.13027182237108148 1.7509996238616836 1.315103837182928 -0.70615862294213949;-0.45057140050542505 0.032686835450650958 -1.4785915117933295 1.3919091265860073 -0.65261945839951463 0.57111835099290009 -1.4314477291705336 0.058069389493848558;3.1090315545115987 -0.28702885001672973 2.0344491937988551 2.5329767402207231 -0.8199600244499895 -0.48048253596525092 0.57955101566964795 0.44444003527860687;-2.1684547595715902 -1.7803711087282696 0.75939101836867207 1.9207939301028303 -2.1689601975544357 2.3454112187843292 -0.46557751871903696 0.11749792197925579;-0.21987639515258015 -0.11616841579187617 0.85844978870774669 -1.912021900604072 0.71223335598333926 -1.2591474929304152 -1.4632269952301686 1.9700990438486863;0.45801325512939195 -2.923307488737505 -0.65917029349551892 -0.58740935894216784 0.48522983633068512 -0.3002117271807544 0.073075802654037819 0.44012234381672422;-2.6801078845378421 0.85600488562418842 -0.033201513041667206 0.18851688630116731 -0.16658284752101132 -1.035723510163153 0.051570445601245345 0.02548369729851592;0.55871018737610845 0.70985094906391344 0.089805305827592163 0.24878086276488343 0.10820131134600226 0.3185991927277132 0.046883833307079861 0.37414636956092584;-2.5409469118703361 -1.2871634735037354 0.83053427350569164 1.672709275500063 -1.3841599666394429 0.13518423960806034 -0.19514826875886032 -0.33226728328295851];

% Layer 2
b2 = [-1.9649181726580818;2.4318793358288251;0.34506851502579672;-0.53793434222971825;0.30190830101370403;1.1823084790228249;1.1752906376018235;-2.2825940905319588;-1.9204303240818184;0.46341233274839788;2.1448606442024172;-1.1684697093752943;-1.4729371453231257;-2.4840280012558451];
LW2_1 = [1.0789140982708854 0.22522092485105902 0.72734010152282702 -0.46541143652707029 0.28555701985503712 -1.5809552163773786 1.0190720098802499 -1.2236730629586898 -0.074314561703282322 -0.060129526480809221 0.23716108787751375 1.4165076708054325 -1.0195428199894174 0.11542058121170638;-0.30079893006949082 -0.63544911444728758 -0.67881687932518731 -0.37092215331446976 1.4143259275970044 0.44558657715075461 0.15752551073251575 0.00087137457207980828 0.30129617366969996 -0.20217982493944789 0.40028083921671687 -0.38497605833794735 -0.7031536475337582 -0.15388784984968773;-1.1917070369158298 2.0558627558728029 0.085503348962079506 -0.56623725480315612 -0.79518016100399547 -0.93031910623599412 -0.4702124452700075 -0.93175815372166615 -0.54243218272541616 0.22799801591435703 -0.91536968030781796 0.74542557126104581 3.0071925756880171 1.0785708966158292;-1.0375581271709458 1.948718079237175 -0.26772871769170686 -0.41269239058643692 -0.90950643365453787 -1.1197664348273126 -0.24511514947555346 -1.3117572753623976 -1.0450459817487903 -0.058170340191081797 -0.37282514811151934 1.4290389216170429 2.5082259622849432 0.53211832735027598;0.36736099286069424 1.5070535385396466 2.4639035333402641 0.40440026690168562 -0.50508910921358896 0.45901232871769942 -0.70246399230919199 -0.95133790692050302 0.11909744831108399 0.65801483130565575 -1.2026843934611662 1.4527162062187533 -0.76813009146960476 -0.19614150032905922;0.62976477401700115 1.5203229003162706 0.83695531950645707 -0.19669814222168064 -0.33811290593159254 -1.0994245510586433 0.013276697141339319 1.0347213894763303 0.024592996839670044 -0.43859185950808283 -0.24793671999336631 0.025368253208707517 0.44759696014036005 0.34431537293253023;-0.55621349220671656 0.53459093475702435 -1.7660998691336989 -0.74537091484503304 -0.58235222481996551 -0.80367432114406046 0.15408250755470831 -0.76430765207427553 0.51120885517654313 -0.67653391741771574 0.49691760022950848 -0.068845916547323485 1.0582190224801009 -0.64896171381645573;-0.27194620196190522 0.86104240661278753 0.25303222823809052 1.1326250662451638 1.7732494890304211 -0.79617347619573231 -0.26135197762520013 0.60122795500305015 0.10351679228442011 -0.68741860266626686 -1.1457776458983793 0.19678839559176473 -0.87739417138392439 -2.2014137837507675;-0.34343534548060278 0.55053258715567599 1.5155616023139351 -0.76808787285746105 -0.89935201660977993 -0.83793148222946867 -0.14333593272644354 -0.48231108396126265 -0.91149157354559263 0.15928833894660899 -0.44697680654188826 0.79966171856652513 1.2518662702043826 0.5289523954448766;0.3721669208555019 0.69421051849871218 0.61288931761340981 0.41281812170837151 0.3650140529546182 -0.28001354328632921 0.13908182693139171 1.1165617528301255 -0.32151726977704131 -0.099867116799156067 0.0004364989121402596 -0.011916916115025225 -0.32079043817156644 0.21664692255870854;0.96822498479475272 1.2085495507376176 0.87631794039302269 -1.0071348698048772 -2.1144825673225842 -0.27811505522759655 1.2343062844577284 -0.76779947640906843 1.3786898244913464 -0.069926384869264266 1.4295586998572596 1.8644905598513253 2.4656019606354542 -2.8530434800957711;-0.1691140820732463 -1.5191107276347744 0.90633861393887438 -0.25450036976972529 0.071185306144344582 -1.0358230654522627 -0.62810321050881612 0.29117254319127212 -0.60214350070670186 0.46882705951802639 -0.64925793210218219 -0.080513744742526677 0.14767394122637628 0.94918374607337419;1.1222925978489366 0.50495693844817136 -0.03112919276748468 -0.27911364740223304 0.20804154792316237 -0.046087774060096814 1.1947698012710759 0.19207670443667252 0.062526989658856308 -0.11258634741672474 0.31197483384299174 1.6482873927418003 -1.816519666063328 -0.089964095865255611;-0.4290137109839387 1.2183508480824399 0.29397930621647284 0.60713592340714051 1.4291806206107842 -1.1569849278157973 -0.42163773775542507 0.66480622184768035 0.0071151135560316575 -1.599945126813632 0.07226608705675179 -1.5458272494715379 -0.32616591076340701 1.6328461814930511];

% Layer 3
b3 = -0.11816152880423347;
LW3_2 = [-2.3243666714385136 1.0111910448657984 1.7216512109287097 -1.7727995950754503 -0.18436486656175116 0.49802009602960035 -0.40904455324643896 1.9407514388041593 2.0063811428043001 -0.67147209260185137 -0.80443490229623449 -0.64587891836390288 1.7750059589873184 -1.8307662028825278];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = 4.04040404040404;
y1_step1_xoffset = 0;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},2); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = repmat(b3,1,Q) + LW3_2*a2;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a3,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(3,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
